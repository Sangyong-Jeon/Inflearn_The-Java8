# μΈν„°νμ΄μ¤ κΈ°λ³Έ λ©”μ†λ“μ™€ μ¤νƒν‹± λ©”μ†λ“

μλ°”μ μΈν„°νμ΄μ¤λ” μΌμΆ…μ μ¶”μƒν΄λμ¤μ™€λ„ κ°™μ•„μ„ λ‚΄λ¶€ λ΅μ§μ΄ κµ¬ν„λ λ©”μ†λ“λ¥Ό κ°€μ§ μ μ—†λ‹¤. <br>
ν•μ§€λ§ Java8λ¶€ν„° μΈν„°νμ΄μ¤μ—λ„ μ¶”μƒλ©”μ†λ“λΏλ§ μ•„λ‹λΌ κµ¬ν„μ΄ κ°€λ¥ν• λ©”μ†λ“λ„ μ„ μ–Έν•  μ μλ”λ° μ΄κ²ƒμ΄ κΈ°λ³Έλ©”μ†λ“μ™€ μ¤νƒν‹±λ©”μ†λ“μ΄λ‹¤.

<br>

## Java 8 μ΄μ „

```java
public interface Foo {
    void printName();
}

public class DefaultFoo implements Foo {
    @Override
    public void printName() {
        System.out.println("DefaultFoo");
    }
}
```
μΈν„°νμ΄μ¤μ— μ¶”μƒλ©”μ†λ“κ°€ μƒκΈΈλ•λ§λ‹¤ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤μ—λ„ μ¶”μƒλ©”μ†λ“λ¥Ό κµ¬ν„ν•΄μ•Όν•λ‹¤.<br>
κ·Έλ ‡λ‹¤λ©΄ κµ¬ν„ν•μ§€ μ•μ•„λ„ λλ” λ°©λ²•μ΄ μμ„κΉ?<br>
λ°”λ΅ Java8λ¶€ν„° μ‚¬μ©ν•  μ μλ” `default method` μ™€ `static method` κ°€ μλ‹¤.

<br>

## κΈ°λ³Έ λ©”μ†λ“ (Default Method)

- μΈν„°νμ΄μ¤μ— λ©”μ†λ“ μ„ μ–Έμ΄ μ•„λ‹λΌ κµ¬ν„μ²΄λ¥Ό μ κ³µν•λ” λ°©λ²•
- ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤λ¥Ό κΉ¨λ¨λ¦¬μ§€ μ•κ³  μƒ κΈ°λ¥ μ¶”κ°€
- κΈ°λ³Έ λ©”μ†λ“λ” κµ¬ν„μ²΄κ°€ λ¨λ¥΄κ² μ¶”κ°€λ κΈ°λ¥μΌλ΅ κ·Έλ§νΌ λ¦¬μ¤ν¬κ°€ μμ
  - κµ¬ν„μ²΄μ— λ”°λΌ λ°νƒ€μ„ μ—λ¬ λ°μƒ κ°€λ¥
  - λ°λ“μ‹ λ¬Έμ„ν™” ν•΄μ•Όν•¨ (`@implSpec` : μλ°”λ… νƒκ·Έ μ‚¬μ©)
- `Object`κ°€ μ κ³µν•λ” κΈ°λ¥(`equals`,`hasCode`...)λ” κΈ°λ³Έλ©”μ†λ“λ΅ μ κ³µ λ¶κ°€λ¥
  - κµ¬ν„μ²΄κ°€ μ¬μ •μ ν•΄μ•Όν•¨
- λ³ΈμΈμ΄ μμ •ν•  μ μλ” μΈν„°νμ΄μ¤μ—λ§ κΈ°λ³Έ λ©”μ†λ“ μ κ³µ κ°€λ¥
- μΈν„°νμ΄μ¤λ¥Ό μƒμ†λ°›λ” μΈν„°νμ΄μ¤μ—μ„ λ‹¤μ‹ μ¶”μƒ λ©”μ†λ“λ΅ λ³€κ²½ κ°€λ¥
- μΈν„°νμ΄μ¤ κµ¬ν„μ²΄κ°€ μ¬μ •μ κ°€λ¥

<br>

```java
public interface Foo {
    void printName();
    String getName();
  
    /**
    * @ImpleSpec
    * μ΄ κµ¬ν„μ²΄λ” getName()μΌλ΅ κ°€μ Έμ¨ λ¬Έμμ—΄μ„ λ€λ¬Έμλ΅ λ³€ν™ ν›„ μ¶λ ¥ν•λ‹¤.
    */
    default void printNameUpperCase() {
        System.out.println(getName().toUpperCase());
    }
}

public class DefaultFoo implements Foo {
    String name;

    // κΈ°λ³Έ λ©”μ†λ“μ΄λ―€λ΅ κΈ°λ³Έ κµ¬ν„μ²΄λ¥Ό μ‚¬μ©ν•  κ²ƒμ΄λΌλ©΄ μ¬μ •μν•μ§€ μ•μ•„λ„ λ¨.
    @Override
    public void printNameUpperCase() {
        System.out.println(name.toUpperCase());
    }
	
    @Override
    public void printName() {
        System.out.println(name);
    }

    @Override
    public String getName() {
        return name;
    }
}
```
κΈ°λ³Έλ©”μ†λ“μΈ `printNameUpperCase()`λ” κµ¬ν„μ²΄κ°€ λ¨λ¥΄κ² μ¶”κ°€λ κΈ°λ¥μΌλ΅ λ§μ•½ `getName()`μ—μ„ `null`μ΄ λ°ν™λλ‹¤λ©΄ λ°νƒ€μ„ μ—λ¬κ°€ λ°μƒν•  μ μλ‹¤. <br>
λ”°λΌμ„ Java8λ¶€ν„° μ κ³µλλ” `@implSpec`μ„ μ‚¬μ©ν•μ—¬ λ¬Έμ„ν™”λ¥Ό ν•λ” κ²ƒμ΄λ‹¤.<br>
`DefaultFoo`ν΄λμ¤μ—μ„ κΈ°λ³Έλ©”μ†λ“λ¥Ό μ¬μ •μν•μ€λ‹¤.

<br>

```java
public interface Bar extends Foo {
    void printNameUpperCase();
}
```
`Bar`ν΄λμ¤μ—μ„ `Foo`ν΄λμ¤κ°€ μ κ³µν•λ” κΈ°λ³Έ κµ¬ν„μ²΄μΈ `printNameUpperCase()`λ¥Ό μ‚¬μ©ν•κ³  μ‹¶μ§€ μ•λ‹¤λ©΄ λ‹¤μ‹ μ¶”μƒλ©”μ†λ“λ΅ λ³€κ²½ν•λ©΄ λλ‹¤.

<br>

### π§ κµ¬ν„μ²΄κ°€ μ—¬λ¬ μΈν„°νμ΄μ¤λ¥Ό μƒμ†ν–λ”λ° λ™μΌν• κΈ°λ³Έλ©”μ†λ“κ°€ μμΌλ©΄?

`printNameUpperCase()`λ¥Ό κ°€μ§€κ³  μλ” μ—¬λ¬ μΈν„°νμ΄μ¤κ°€ μμ„ λ• κ·Έκ²ƒλ“¤μ„ λ‹¤μ¤‘ μƒμ† λ°›μΌλ©΄

<img width="799" alt="image" src="https://user-images.githubusercontent.com/80039556/184059079-ee004456-651b-441f-90e1-bf752bdfefc0.png">

> ERROR : DefaultFoo inherits unrelated defaults for printNameUpperCase() from types Foo and Bar

μ„μ²λΌ μ»΄νμΌμ—λ¬κ°€ λ‚νƒ€λ‚λ―€λ΅ `printNameUpperCase()`λ¥Ό μ§μ ‘ μ¬μ •μν•μ—¬μ•Ό ν•λ‹¤.

<br>

## μ¤νƒν‹± λ©”μ†λ“ (Static Method)

- ν•΄λ‹Ή νƒ€μ… κ΄€λ ¨ ν—¬νΌ λλ” μ ν‹Έλ¦¬ν‹° λ©”μ†λ“λ¥Ό μ κ³µν•  λ• μΈν„°νμ΄μ¤μ— μ¤νƒν‹± λ©”μ†λ“λ¥Ό μ κ³µν•  μ μλ‹¤.

```java
public interface Foo {
    void printName();
    String getName();
	
    /**
    * @ImpleSpec
    * μ΄ κµ¬ν„μ²΄λ” getName()μΌλ΅ κ°€μ Έμ¨ λ¬Έμμ—΄μ„ λ€λ¬Έμλ΅ λ³€ν™ ν›„ μ¶λ ¥ν•λ‹¤.
    */
    default void printNameUpperCase() {
        System.out.println(getName().toUpperCase());
    }

    static void printAnyThing() {
        System.out.println("Foo");
    }
}

public class App {
    public static void main(String[] args) {
        Foo.printAnything(); // Foo
    }
}
```
