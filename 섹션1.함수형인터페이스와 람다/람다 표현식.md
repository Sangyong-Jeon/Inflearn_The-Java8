# ëŒë‹¤ì‹(Lambda Expression)

```
(ì¸ì ë¦¬ìŠ¤íŠ¸) -> {ë°”ë””}
```

## ì¸ì ë¦¬ìŠ¤íŠ¸

- ì¸ìê°€ ì—†ì„ ë•Œ : `()`
- ì¸ìê°€ í•˜ë‚˜ì¼ ë•Œ : `(one)` ë˜ëŠ” `one`
- ì¸ìê°€ ì—¬ëŸ¬ê°œì¼ ë•Œ : `(one, two)`
- ì¸ìì˜ íƒ€ì…ì€ ìƒëµ ê°€ëŠ¥, ì»´íŒŒì¼ëŸ¬ê°€ ì¶”ë¡ (infer)í•˜ì§€ë§Œ ëª…ì‹œí•  ìˆ˜ë„ ìˆìŒ : `(int one, int two)`

## ë°”ë””

- í™”ì‚´í‘œ ì˜¤ë¥¸ìª½ì— í•¨ìˆ˜ ë³¸ë¬¸ì„ ì •ì˜
- ì—¬ëŸ¬ ì¤„ì¸ ê²½ìš° ì¤‘ê´„í˜¸(`{}`)ë¥¼ ì‚¬ìš©í•´ì„œ ë¬¶ìŒ
- í•œ ì¤„ì¸ ê²½ìš° ìƒëµ ê°€ëŠ¥í•˜ë©°, `return`ë„ ìƒëµ ê°€ëŠ¥

```java
public class Foo {
  public static void main(String[] args) {
    // ì¸ìê°€ ì—†ì„ ë•Œ
    Supplier<Integer> get10 = () -> 10;
    Supplier<Integer> get20 = () -> {
      return 20;
    };
    // ì¸ìê°€ 1ê°œì¼ ë•Œ
    UnaryOperator<Integer> plus10 = a -> a + 10;
    UnaryOperator<Integer> plus20 = (a) -> a + 20;
    BinaryOperator<Integer> sum = (a, b) -> a + b;
    BinaryOperator<Integer> sum2 = (Integer a, Integer b) -> a + b;
  }
}
```

# ë³€ìˆ˜ ìº¡ì²˜(Variable Capture)

```java
public class Foo {
  public static void main(String[] args) {
    Foo foo = new Foo();
    foo.run();
  }
  
  private void run() {
    //final int baseNumber = 10; // ìë°”8ë¶€í„° final ìƒëµ ê°€ëŠ¥
    int baseNumber = 10; // ë¡œì»¬ ë³€ìˆ˜(effective final variable)
    
    //ë¡œì»¬ í´ë˜ìŠ¤ì—ì„œ ë¡œì»¬ ë³€ìˆ˜ ì°¸ì¡°
    class LocalClass {
      void printBaseNumber() {
        System.out.println(baseNumber); //10
      }
    }
    
    //ìµëª… í´ë˜ìŠ¤ì—ì„œ ë¡œì»¬ ë³€ìˆ˜ ì°¸ì¡°
    Consumer<Integer> integerConsumer = new Consumer<Integer>() {
      @Override
      public void accept(Integer integer) {
        System.out.println(baseNumber); // 10
      }
    };
    
    //ëŒë‹¤ì—ì„œ ë¡œì»¬ ë³€ìˆ˜ ì°¸ì¡°
    IntConsumer printInt = i -> {
      System.out.println(i + baseNumber); // i+10
    };
    printInt.accept(10); // 20
  }
}
```

### ë¡œì»¬ ë³€ìˆ˜ ìº¡ì²˜
`ë¡œì»¬í´ë˜ìŠ¤`, `ìµëª…í´ë˜ìŠ¤`, `ëŒë‹¤`ì—ì„œ ì „ë¶€ `baseNumber` ë¡œì»¬ë³€ìˆ˜ ì°¸ì¡° ê°€ëŠ¥í•˜ë‹¤.
- `final`ì´ê±°ë‚˜ `effective final`ì¸ ê²½ìš°ì—ë§Œ ì°¸ì¡° ê°€ëŠ¥
- ê·¸ë ‡ì§€ ì•Šì„ ê²½ìš° concurrency ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆì–´ì„œ ì»´íŒŒì¼ì´ ë°©ì§€

### Effective Final
`baseNumber`ëŠ” ì‚¬ì‹¤ìƒ `final`ì¸ ë³€ìˆ˜ì´ë‹¤.
- ìë°” 8ë¶€í„° ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ë³€ìˆ˜ì˜ ê°’ì„ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì‚¬ì‹¤ìƒ `final`ì¸ ë³€ìˆ˜
- ë”°ë¼ì„œ `final`í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì€ ë³€ìˆ˜ë¥¼ `ë¡œì»¬í´ë˜ìŠ¤`, `ìµëª…í´ë˜ìŠ¤`, `ëŒë‹¤`ì—ì„œ ì°¸ì¡° ê°€ëŠ¥

### ìµëª… í´ë˜ìŠ¤ êµ¬í˜„ì²´ì™€ ë‹¬ë¦¬ ì‰ë„ìœ™í•˜ì§€ ì•ŠëŠ”ë‹¤
- ìµëª… í´ë˜ìŠ¤ëŠ” ìƒˆë¡œ ìŠ¤ì½”í”„(ìœ íš¨ë²”ìœ„)ë¥¼ ë§Œë“¤ì§€ë§Œ, ëŒë‹¤ëŠ” ëŒë‹¤ë¥¼ ê°ì‹¸ê³  ìˆëŠ” ìŠ¤ì½”í”„ì™€ ê°™ìŒ

> ğŸ§ **ì‰ë„ìœ™(Shadowing)ì´ë€?**<br>
> ì™¸ë¶€ í´ë˜ìŠ¤ì˜ ë³€ìˆ˜ëª…ê³¼ ë‚´ë¶€ í´ë˜ìŠ¤ì˜ ë³€ìˆ˜ëª… ë˜ëŠ” ë‚´ë¶€ í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ëª…ì´ ê°™ì€ ê²½ìš° ì ‘ê·¼í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, ì™¸ë¶€ì˜ ë³€ìˆ˜ê°€ ê°€ë ¤ì§€ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

<img width="373" alt="image" src="https://user-images.githubusercontent.com/80039556/181870544-08750e37-0789-4f6d-a8b1-3bbddbeb5d39.png">

ìœ„ ê·¸ë¦¼ì„ ì‚´í´ë³´ë©´ Fooí´ë˜ìŠ¤ì— `baseNumber` ë©¤ë²„ë³€ìˆ˜ê°€ ì„ ì–¸ë˜ì–´ìˆë‹¤.<br>
run ë©”ì†Œë“œ ì•ˆì— ê°™ì€ ì´ë¦„ì¸ `baseNumber` ì§€ì—­ë³€ìˆ˜ê°€ ì„ ì–¸ë˜ì–´ìˆë‹¤.<br>
ì´ ë•Œ run ë©”ì†Œë“œì—ì„œ `baseNumber`ë¥¼ ì‚¬ìš©í•˜ë©´ ì§€ì—­ë³€ìˆ˜ì˜ ê°’ì¸ 20ì´ ë‚˜ì˜¤ê²Œ ëœë‹¤.<br>
ì´ì²˜ëŸ¼ run ë©”ì†Œë“œ ì™¸ë¶€ì˜ ê°’ì¸ `baseNumber = 10`ì€ ê°€ë ¤ì§€ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

<img width="514" alt="image" src="https://user-images.githubusercontent.com/80039556/181870573-f49523b7-85b1-4643-93ec-867c15e4b739.png">

`ë¡œì»¬í´ë˜ìŠ¤`ì™€ `ìµëª…í´ë˜ìŠ¤`ëŠ” ë‚´ë¶€ì˜ ë³€ìˆ˜ê°€ ìˆë‹¤ë©´ ì™¸ë¶€ì˜ ë³€ìˆ˜ëŠ” ê°€ë ¤ì§€ê²Œ ë˜ê³ ,<br>
`ëŒë‹¤`ëŠ” ìì‹ ì„ ê°ì‹¸ê³  ìˆëŠ” ìŠ¤ì½”í”„ì™€ ê°™ìœ¼ë¯€ë¡œ ê°™ì€ ì´ë¦„ì˜ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ìˆ˜ ì—†ë‹¤.

**ğŸ“š ë¡œì»¬ í´ë˜ìŠ¤ì™€ ìµëª… í´ë˜ìŠ¤ì˜ ê²½ìš°**
```java
// Foo í´ë˜ìŠ¤ ë³€ìˆ˜
int baseNumber = 10;

class LocalClass {
  int baseNumber = 30; // ë¡œì»¬ í´ë˜ìŠ¤ ë‚´ë¶€ ë³€ìˆ˜
  void printBaseNumber() {
    System.out.println(baseNumber); // 30
  }
}

Consumer<Integer> integerConsumer = new Consumer<Integer>() {
  int baseNumber = 20; // ìµëª… í´ë˜ìŠ¤ ë‚´ë¶€ ë³€ìˆ˜
  @Override
  public void accept(Integer integer) {
    System.out.println(baseNumber); // 20
  }
};
```
ë¡œì»¬í´ë˜ìŠ¤ì™€ ìµëª…í´ë˜ìŠ¤ ë‚´ë¶€ì—ëŠ” `baseNumber`ë¼ëŠ” ì´ë¦„ì˜ ë‚´ë¶€ ë³€ìˆ˜ê°€ ì„ ì–¸ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<br>
ê·¸ ì™¸ë¶€ì—ë„ ë˜‘ê°™ì€ ì´ë¦„ì¸ `baseNumber`ê°€ ì„ ì–¸ë˜ì–´ ìˆìŠµë‹ˆë‹¤.<br>
ì´ ë•Œ ì™¸ë¶€ì˜ ê°’ì€ ê°€ë ¤ì§€ê³ , ë‚´ë¶€ì— ì„ ì–¸í•œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.<br>
ë”°ë¼ì„œ ë¡œì»¬í´ë˜ìŠ¤ì™€ ìµëª…í´ë˜ìŠ¤ê°€ ì‚¬ìš©í•˜ëŠ” `baseNumber`ëŠ” ê°ê° 30,20 ì…ë‹ˆë‹¤.

**ğŸ“š ëŒë‹¤ì˜ ê²½ìš°**
```java
int baseNumber = 10;

IntConsumer printInt = i -> {
  int baseNumber = 40; // ERROR!
  System.out.println(i + baseNumber);
}
printInt.accept(10);
```
ëŒë‹¤ëŠ” í•­ìƒ ìì‹ ì´ ê°ì‹¸ê³  ìˆëŠ” ìŠ¤ì½”í”„ì™€ ê°™ìœ¼ë¯€ë¡œ ê°™ì€ ì´ë¦„ì˜ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
